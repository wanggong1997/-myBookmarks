<!DOCTYPE html>
<head>
    <title>24jianpan</title>
    <link rel="stylesheet" href="./jianpan.css">
</head>

<body style="background: rgb(117, 116, 116) url(./wall.jpg) no-repeat center center; background: cover">
<header></header>
<main>
    <div class="box" id="yxx"></div>
</main>
<footer></footer>
<script>
    keys = {
        0:{1:'q',2:'w',3:'e',4:'r',5:'t',6:'y',7:'u',8:'i',9:'o',10:'p',length: 10},
        1:{1:'a',2:'s',3:'d',4:'f',5:'g',6:'h',7:'j',8:'k',9:'l',length: 9},
        2:{1:'z',2:'x',3:'c',4:'v',5:'b',6:'n',7:'m',length: 7},
        length: 3
    }
    hash = {
        q: 'lol.qq.com',
        w: 'weibo.com',
        y: 'yy.com',
        u: 'lianjia.com',
        i: 'iqiyi.com',
        o: 'oppo.com',
        a: 'apple.com',
        d: 'dell.com',
        g: 'google.com',
        x: 'xiedaimala.com'
    }
    index = 0
    while(index < keys['length']){
        div = document.createElement('div') //定义变量"div" 为<div>标签
        div.className = 'row' //给div个class
        yxx.appendChild(div)
        rom = keys[index]   //第一个数组 第二个数组 第三个数组
        index = index + 1  //计数
         index2 = 1  //赋值
    while(index2 <= rom['length']){ 
        img = document.createElement('img')
        if(hash[rom[index2]]){ //每个按钮
            img.src = 'http://'+ hash[rom[index2]] + '/favicon.ico' //取得网站的图标在根目录下面的favicon.ico
        }else{
            img.src = '//i.loli.net/2017/11/10/5a05afbc5e183.png'
        }
        img.onerror = function(xxx){
            xxx.target.src = '//i.loli.net/2017/11/10/5a05afbc5e183.png'
        }
        button = document.createElement('button') //定义button
        button.textContent = '编辑'
        button.id = rom[index2]
        button.onclick = function(frank){ //frank['target']就是用户点击的元素
        key = (frank['target']['id'])
        x1 = prompt('give me')
        console.log(x1)
        hash[key] = x1
        localStorage.setItem('wanggong',JSON.stringify(hash))
        console.log(hash)
        console.log(key)
        }
        span = document.createElement('span')
        span.textContent = rom[index2]
        span.className = 'text'
        kbd = document.createElement('kbd')
        div.appendChild(kbd)
        kbd.appendChild(span)
        kbd.className = 'key'
        kbd.appendChild(img)
        kbd.appendChild(button)
        index2 = index2 + 1
    }   
}
document.onkeypress = function(frank){
    key = frank['key']
    webside = hash[key]
    console.log(webside)
    //location.href = 'http://' + webside
    window.open('http://'+webside,'_blank')

}

    
</script>
    
</body>
</html>
